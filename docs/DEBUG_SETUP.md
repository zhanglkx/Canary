# Canary é¡¹ç›®å…¨æ ˆè°ƒè¯•æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨ VS Code ä¸­è°ƒè¯•æ•´ä¸ª Canary å…¨æ ˆåº”ç”¨ï¼ŒåŒ…æ‹¬åç«¯ï¼ˆNestJSï¼‰ã€å‰ç«¯ Node ç«¯ï¼ˆNext.js SSRï¼‰å’Œæµè§ˆå™¨ç«¯ï¼ˆReactï¼‰ã€‚

---

## ç›®å½•

1. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
2. [è°ƒè¯•æ¶æ„æ¦‚è§ˆ](#è°ƒè¯•æ¶æ„æ¦‚è§ˆ)
3. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
4. [è°ƒè¯•é…ç½®è¯´æ˜](#è°ƒè¯•é…ç½®è¯´æ˜)
5. [è°ƒè¯•æ“ä½œæŒ‡å—](#è°ƒè¯•æ“ä½œæŒ‡å—)
6. [å¸¸è§è°ƒè¯•åœºæ™¯](#å¸¸è§è°ƒè¯•åœºæ™¯)
7. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## å¿«é€Ÿå¼€å§‹

### æœ€ç®€å•çš„å¯åŠ¨æ–¹å¼ âš¡

1. **å¯åŠ¨æ•°æ®åº“**ï¼š
   ```bash
   docker-compose up -d postgres
   ```

2. **åœ¨ VS Code ä¸­**ï¼š
   - æŒ‰ `F5` æˆ–ç‚¹å‡»å·¦ä¾§"è¿è¡Œå’Œè°ƒè¯•"å›¾æ ‡
   - é€‰æ‹© `ğŸ¯ å®Œæ•´å…¨æ ˆè°ƒè¯• (åç«¯ + å‰ç«¯ + æµè§ˆå™¨)`
   - ç‚¹å‡»ç»¿è‰²æ’­æ”¾æŒ‰é’® â–¶ï¸

3. **ç­‰å¾…æœåŠ¡å¯åŠ¨**ï¼š
   - åç«¯ï¼šhttp://localhost:4000/graphql
   - å‰ç«¯ï¼šhttp://localhost:3000
   - æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€

4. **è®¾ç½®æ–­ç‚¹**ï¼š
   - åœ¨ä»»ä½• TypeScript æ–‡ä»¶ä¸­ç‚¹å‡»è¡Œå·å·¦ä¾§è®¾ç½®æ–­ç‚¹
   - è§¦å‘ç›¸åº”çš„æ“ä½œï¼Œç¨‹åºä¼šåœ¨æ–­ç‚¹å¤„æš‚åœ

---

## è°ƒè¯•æ¶æ„æ¦‚è§ˆ

### ä¸‰å±‚è°ƒè¯•æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Canary è°ƒè¯•æ¶æ„                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ç¬¬ 1 å±‚: æµè§ˆå™¨ç«¯ (React å®¢æˆ·ç«¯ä»£ç )                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è°ƒè¯•å·¥å…·: Chrome DevTools                            â”‚  â”‚
â”‚  â”‚  ç«¯å£: 9222 (è¿œç¨‹è°ƒè¯•)                                â”‚  â”‚
â”‚  â”‚  ä»£ç ä½ç½®: apps/web/src/components, app (å®¢æˆ·ç«¯)      â”‚  â”‚
â”‚  â”‚  è°ƒè¯•å†…å®¹: ç”¨æˆ·äº¤äº’ã€çŠ¶æ€ç®¡ç†ã€æµè§ˆå™¨äº‹ä»¶              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â†“ HTTP/GraphQL è¯·æ±‚                â”‚
â”‚                                                              â”‚
â”‚  ç¬¬ 2 å±‚: Next.js Node ç«¯ (æœåŠ¡å™¨ç«¯æ¸²æŸ“)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è°ƒè¯•å·¥å…·: VS Code Debugger                           â”‚  â”‚
â”‚  â”‚  ç«¯å£: é»˜è®¤ Node è°ƒè¯•ç«¯å£                             â”‚  â”‚
â”‚  â”‚  ä»£ç ä½ç½®: apps/web/src (SSR ä»£ç )                    â”‚  â”‚
â”‚  â”‚  è°ƒè¯•å†…å®¹: æœåŠ¡å™¨ç«¯æ¸²æŸ“ã€API è·¯ç”±ã€æ•°æ®é¢„å–            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â†“ GraphQL è¯·æ±‚                      â”‚
â”‚                                                              â”‚
â”‚  ç¬¬ 3 å±‚: NestJS åç«¯ (API æœåŠ¡å™¨)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è°ƒè¯•å·¥å…·: VS Code Debugger                           â”‚  â”‚
â”‚  â”‚  ç«¯å£: 9229 (Node Inspector)                          â”‚  â”‚
â”‚  â”‚  ä»£ç ä½ç½®: apps/api/src                               â”‚  â”‚
â”‚  â”‚  è°ƒè¯•å†…å®¹: GraphQL resolversã€ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åº“æ“ä½œ     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â†“ SQL æŸ¥è¯¢                          â”‚
â”‚                                                              â”‚
â”‚  æ•°æ®å±‚: PostgreSQL                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç«¯å£: 5432                                            â”‚  â”‚
â”‚  â”‚  å®¹å™¨: learning-nest-next-db-dev                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è°ƒè¯•æµç¨‹ç¤ºä¾‹

**åœºæ™¯ï¼šç”¨æˆ·ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®**

```
1. æµè§ˆå™¨ (React)
   â†“ ç”¨æˆ·ç‚¹å‡»æŒ‰é’®
   â”œâ”€ è§¦å‘ onClick äº‹ä»¶ [æ–­ç‚¹ 1: apps/web/src/app/register/page.tsx]
   â”œâ”€ è°ƒç”¨ useMutation hook
   â””â”€ å‘é€ GraphQL è¯·æ±‚

2. Next.js Node (SSR - å¦‚æœæ˜¯æœåŠ¡å™¨ç«¯è¯·æ±‚)
   â†“ å¯é€‰çš„æœåŠ¡å™¨ç«¯é€»è¾‘
   â”œâ”€ [æ–­ç‚¹ 2: apps/web/src/lib/apollo-client.ts]
   â””â”€ è½¬å‘åˆ°åç«¯ API

3. NestJS åç«¯
   â†“ æ¥æ”¶ GraphQL è¯·æ±‚
   â”œâ”€ [æ–­ç‚¹ 3: apps/api/src/auth/auth.resolver.ts]
   â”œâ”€ [æ–­ç‚¹ 4: apps/api/src/auth/auth.service.ts]
   â”œâ”€ éªŒè¯æ•°æ®
   â”œâ”€ åŠ å¯†å¯†ç 
   â”œâ”€ [æ–­ç‚¹ 5: apps/api/src/user/user.service.ts]
   â””â”€ ä¿å­˜åˆ°æ•°æ®åº“

4. PostgreSQL
   â†“ æ‰§è¡Œ SQL
   â””â”€ è¿”å›ç»“æœ

5. å“åº”è¿”å›
   â†“ NestJS â†’ Next.js â†’ æµè§ˆå™¨
   â””â”€ UI æ›´æ–°ï¼Œæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
```

---

## ç¯å¢ƒå‡†å¤‡

### 1. å®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd /Users/zlk/Documents/Demo/nest/Canary

# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install
```

### 2. å¯åŠ¨ PostgreSQL æ•°æ®åº“

```bash
# ä½¿ç”¨ Docker Compose å¯åŠ¨æ•°æ®åº“
docker-compose up -d postgres

# éªŒè¯æ•°æ®åº“æ˜¯å¦å¯åŠ¨æˆåŠŸ
docker ps | grep postgres

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker logs learning-nest-next-db-dev
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

ç¡®ä¿ä»¥ä¸‹ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆå·²åœ¨ `.vscode/launch.json` ä¸­é…ç½®ï¼‰ï¼š

```bash
# åç«¯ç¯å¢ƒå˜é‡
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=postgres
DATABASE_NAME=learning_nest_next
PORT=4000
FRONTEND_URL=http://localhost:3000
JWT_SECRET=devsecret

# å‰ç«¯ç¯å¢ƒå˜é‡
NEXT_PUBLIC_API_URL=http://localhost:4000/graphql
```

### 4. éªŒè¯ç¯å¢ƒ

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 20.0.0ï¼‰
node --version

# æ£€æŸ¥ pnpm ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 9.0.0ï¼‰
pnpm --version

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
docker exec -it learning-nest-next-db-dev psql -U postgres -c "SELECT version();"
```

---

## è°ƒè¯•é…ç½®è¯´æ˜

### VS Code è°ƒè¯•é…ç½® (`.vscode/launch.json`)

æˆ‘ä»¬æä¾›äº† 7 ç§è°ƒè¯•é…ç½®ï¼š

#### 1ï¸âƒ£ åç«¯è°ƒè¯•é…ç½®

| é…ç½®åç§° | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|
| ğŸ”´ è°ƒè¯•åç«¯ (NestJS API) | å¯åŠ¨åç«¯å¹¶é™„åŠ è°ƒè¯•å™¨ | è°ƒè¯• GraphQL APIã€ä¸šåŠ¡é€»è¾‘ |
| ğŸ”´ è°ƒè¯•åç«¯ (æ–­ç‚¹å¯åŠ¨) | åœ¨ç¬¬ä¸€è¡Œä»£ç å¤„æš‚åœ | è°ƒè¯•å¯åŠ¨æµç¨‹ã€æ¨¡å—åˆå§‹åŒ– |
| ğŸ”´ é™„åŠ åˆ°è¿è¡Œä¸­çš„åç«¯ | é™„åŠ åˆ°å·²è¿è¡Œçš„è¿›ç¨‹ | åç«¯å·²å¯åŠ¨ï¼Œåªéœ€é™„åŠ è°ƒè¯•å™¨ |

**åç«¯è°ƒè¯•ç«¯å£**ï¼š9229 (Node Inspector é»˜è®¤ç«¯å£)

#### 2ï¸âƒ£ å‰ç«¯è°ƒè¯•é…ç½®

| é…ç½®åç§° | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|
| ğŸŸ¢ è°ƒè¯•å‰ç«¯ (Next.js Node) | è°ƒè¯• Next.js æœåŠ¡å™¨ç«¯ä»£ç  | è°ƒè¯• SSRã€API è·¯ç”±ã€æœåŠ¡å™¨ç»„ä»¶ |
| ğŸ”µ è°ƒè¯•æµè§ˆå™¨ (Chrome) | åœ¨ Chrome ä¸­è°ƒè¯•å®¢æˆ·ç«¯ä»£ç  | è°ƒè¯• React ç»„ä»¶ã€ç”¨æˆ·äº¤äº’ |
| ğŸ”µ é™„åŠ åˆ° Chrome | é™„åŠ åˆ°å·²æ‰“å¼€çš„ Chrome | Chrome å·²å¯åŠ¨ï¼Œåªéœ€é™„åŠ è°ƒè¯•å™¨ |

#### 3ï¸âƒ£ å¤åˆè°ƒè¯•é…ç½®

| é…ç½®åç§° | è¯´æ˜ | åŒ…å«çš„è°ƒè¯•å™¨ |
|---------|------|------------|
| ğŸ¯ å®Œæ•´å…¨æ ˆè°ƒè¯• | åŒæ—¶è°ƒè¯•åç«¯ã€å‰ç«¯ã€æµè§ˆå™¨ | åç«¯ + å‰ç«¯ + Chrome |
| ğŸ¯ åç«¯ + æµè§ˆå™¨è°ƒè¯• | è°ƒè¯•åç«¯å’Œæµè§ˆå™¨ | åç«¯ + Chrome |
| ğŸš€ å…¨æ ˆè°ƒè¯• (å•è¿›ç¨‹) | ä½¿ç”¨ concurrently åŒæ—¶å¯åŠ¨ | é€‚åˆå¿«é€Ÿå¯åŠ¨ |

---

## è°ƒè¯•æ“ä½œæŒ‡å—

### æ–¹å¼ 1: å®Œæ•´å…¨æ ˆè°ƒè¯•ï¼ˆæ¨èï¼‰â­

**é€‚ç”¨åœºæ™¯**ï¼šéœ€è¦è°ƒè¯•æ•´ä¸ªè¯·æ±‚é“¾è·¯

1. **å¯åŠ¨æ•°æ®åº“**ï¼š
   ```bash
   docker-compose up -d postgres
   ```

2. **å¯åŠ¨è°ƒè¯•**ï¼š
   - åœ¨ VS Code ä¸­æŒ‰ `F5`
   - æˆ–ç‚¹å‡»å·¦ä¾§"è¿è¡Œå’Œè°ƒè¯•"å›¾æ ‡
   - é€‰æ‹© `ğŸ¯ å®Œæ•´å…¨æ ˆè°ƒè¯• (åç«¯ + å‰ç«¯ + æµè§ˆå™¨)`
   - ç‚¹å‡»ç»¿è‰²æ’­æ”¾æŒ‰é’®

3. **è§‚å¯Ÿå¯åŠ¨è¿‡ç¨‹**ï¼š
   - ç»ˆç«¯ 1: åç«¯å¯åŠ¨ï¼Œæ˜¾ç¤º "ğŸš€ Server is running on..."
   - ç»ˆç«¯ 2: å‰ç«¯å¯åŠ¨ï¼Œæ˜¾ç¤º "started server on..."
   - Chrome è‡ªåŠ¨æ‰“å¼€ http://localhost:3000

4. **è®¾ç½®æ–­ç‚¹**ï¼š
   - åç«¯ï¼š`apps/api/src/auth/auth.resolver.ts` ä¸­çš„ `register` æ–¹æ³•
   - å‰ç«¯ï¼š`apps/web/src/app/register/page.tsx` ä¸­çš„ `handleSubmit` å‡½æ•°
   - æµè§ˆå™¨ï¼šåœ¨ Chrome DevTools ä¸­è®¾ç½®æ–­ç‚¹

5. **è§¦å‘æ–­ç‚¹**ï¼š
   - åœ¨æµè§ˆå™¨ä¸­è®¿é—®æ³¨å†Œé¡µé¢
   - å¡«å†™è¡¨å•å¹¶ç‚¹å‡»"åˆ›å»ºè´¦å·"
   - ç¨‹åºä¼šä¾æ¬¡åœ¨æ–­ç‚¹å¤„æš‚åœ

### æ–¹å¼ 2: åªè°ƒè¯•åç«¯

**é€‚ç”¨åœºæ™¯**ï¼šåªéœ€è¦è°ƒè¯• API é€»è¾‘ï¼Œå‰ç«¯æ­£å¸¸è®¿é—®

1. **å¯åŠ¨æ•°æ®åº“**ï¼š
   ```bash
   docker-compose up -d postgres
   ```

2. **å¯åŠ¨åç«¯è°ƒè¯•**ï¼š
   - é€‰æ‹© `ğŸ”´ è°ƒè¯•åç«¯ (NestJS API)`
   - æŒ‰ `F5`

3. **æ‰‹åŠ¨å¯åŠ¨å‰ç«¯**ï¼ˆä¸è°ƒè¯•ï¼‰ï¼š
   ```bash
   pnpm --filter web dev
   ```

4. **è®¿é—®åº”ç”¨**ï¼š
   - å‰ç«¯ï¼šhttp://localhost:3000
   - GraphQL Playground: http://localhost:4000/graphql

### æ–¹å¼ 3: åªè°ƒè¯•å‰ç«¯

**é€‚ç”¨åœºæ™¯**ï¼šè°ƒè¯• Next.js SSR æˆ– React ç»„ä»¶

1. **å¯åŠ¨åç«¯**ï¼ˆä¸è°ƒè¯•ï¼‰ï¼š
   ```bash
   docker-compose up -d postgres
   pnpm --filter api dev
   ```

2. **å¯åŠ¨å‰ç«¯è°ƒè¯•**ï¼š
   - é€‰æ‹© `ğŸŸ¢ è°ƒè¯•å‰ç«¯ (Next.js Node)` æˆ– `ğŸ”µ è°ƒè¯•æµè§ˆå™¨ (Chrome)`
   - æŒ‰ `F5`

### æ–¹å¼ 4: é™„åŠ åˆ°è¿è¡Œä¸­çš„è¿›ç¨‹

**é€‚ç”¨åœºæ™¯**ï¼šæœåŠ¡å·²å¯åŠ¨ï¼Œåªéœ€é™„åŠ è°ƒè¯•å™¨

1. **æ‰‹åŠ¨å¯åŠ¨æœåŠ¡**ï¼š
   ```bash
   # å¯åŠ¨åç«¯ï¼ˆå¸¦è°ƒè¯•ç«¯å£ï¼‰
   pnpm --filter api debug

   # å¯åŠ¨å‰ç«¯
   pnpm --filter web dev
   ```

2. **é™„åŠ è°ƒè¯•å™¨**ï¼š
   - é€‰æ‹© `ğŸ”´ é™„åŠ åˆ°è¿è¡Œä¸­çš„åç«¯`
   - æŒ‰ `F5`

---

## å¸¸è§è°ƒè¯•åœºæ™¯

### åœºæ™¯ 1: è°ƒè¯•ç”¨æˆ·æ³¨å†Œæµç¨‹

**ç›®æ ‡**ï¼šç†è§£ä»å‰ç«¯æäº¤è¡¨å•åˆ°åç«¯ä¿å­˜æ•°æ®çš„å®Œæ•´æµç¨‹

**æ­¥éª¤**ï¼š

1. **è®¾ç½®æ–­ç‚¹**ï¼š

   **åç«¯æ–­ç‚¹**ï¼š
   ```typescript
   // apps/api/src/auth/auth.resolver.ts
   @Mutation(() => AuthPayload)
   async register(@Args('registerInput') registerInput: RegisterInput) {
     // ğŸ‘ˆ æ–­ç‚¹ 1: GraphQL è¯·æ±‚åˆ°è¾¾
     return this.authService.register(registerInput);
   }
   ```

   ```typescript
   // apps/api/src/auth/auth.service.ts
   async register(registerInput: RegisterInput): Promise<AuthPayload> {
     // ğŸ‘ˆ æ–­ç‚¹ 2: å¼€å§‹å¤„ç†æ³¨å†Œé€»è¾‘
     const existingUser = await this.usersService.findByEmail(registerInput.email);
     if (existingUser) {
       // ğŸ‘ˆ æ–­ç‚¹ 3: æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨
       throw new Error('ç”¨æˆ·å·²å­˜åœ¨');
     }
     
     const hashedPassword = await bcrypt.hash(registerInput.password, 10);
     // ğŸ‘ˆ æ–­ç‚¹ 4: å¯†ç åŠ å¯†å®Œæˆ
     
     const user = await this.usersService.create({
       ...registerInput,
       password: hashedPassword,
     });
     // ğŸ‘ˆ æ–­ç‚¹ 5: ç”¨æˆ·åˆ›å»ºæˆåŠŸ
     
     return { accessToken: '...', user };
   }
   ```

   **å‰ç«¯æ–­ç‚¹**ï¼š
   ```typescript
   // apps/web/src/app/register/page.tsx
   const handleSubmit = async (e: React.FormEvent) => {
     e.preventDefault();
     // ğŸ‘ˆ æ–­ç‚¹ 6: è¡¨å•æäº¤
     
     const { data } = await register({
       variables: { ...formData },
     });
     // ğŸ‘ˆ æ–­ç‚¹ 7: æ”¶åˆ°å“åº”
   };
   ```

2. **å¯åŠ¨è°ƒè¯•**ï¼š
   - é€‰æ‹© `ğŸ¯ å®Œæ•´å…¨æ ˆè°ƒè¯•`
   - æŒ‰ `F5`

3. **è§¦å‘æµç¨‹**ï¼š
   - è®¿é—® http://localhost:3000/register
   - å¡«å†™æ³¨å†Œè¡¨å•
   - ç‚¹å‡»"åˆ›å»ºè´¦å·"

4. **è§‚å¯Ÿæ‰§è¡Œ**ï¼š
   - æ–­ç‚¹ 6 â†’ æ–­ç‚¹ 1 â†’ æ–­ç‚¹ 2 â†’ æ–­ç‚¹ 3 â†’ æ–­ç‚¹ 4 â†’ æ–­ç‚¹ 5 â†’ æ–­ç‚¹ 7
   - åœ¨æ¯ä¸ªæ–­ç‚¹å¤„æŸ¥çœ‹å˜é‡å€¼ã€è°ƒç”¨æ ˆ

### åœºæ™¯ 2: è°ƒè¯• GraphQL æŸ¥è¯¢

**ç›®æ ‡**ï¼šç†è§£ GraphQL æŸ¥è¯¢å¦‚ä½•è¢«è§£æå’Œæ‰§è¡Œ

1. **ä½¿ç”¨ GraphQL Playground**ï¼š
   - è®¿é—® http://localhost:4000/graphql
   - è¾“å…¥æŸ¥è¯¢ï¼š
     ```graphql
     query {
       users {
         id
         email
         username
       }
     }
     ```

2. **åœ¨ Resolver ä¸­è®¾ç½®æ–­ç‚¹**ï¼š
   ```typescript
   // apps/api/src/user/user.resolver.ts
   @Query(() => [User])
   async users() {
     // ğŸ‘ˆ æ–­ç‚¹: æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
     return this.userService.findAll();
   }
   ```

3. **æ‰§è¡ŒæŸ¥è¯¢**ï¼š
   - ç‚¹å‡» Playground ä¸­çš„æ’­æ”¾æŒ‰é’®
   - è°ƒè¯•å™¨ä¼šåœ¨æ–­ç‚¹å¤„æš‚åœ

### åœºæ™¯ 3: è°ƒè¯•æ•°æ®åº“æ“ä½œ

**ç›®æ ‡**ï¼šæŸ¥çœ‹ TypeORM ç”Ÿæˆçš„ SQL æŸ¥è¯¢

1. **å¯ç”¨ TypeORM æ—¥å¿—**ï¼š
   ```typescript
   // apps/api/src/app.module.ts
   TypeOrmModule.forRoot({
     // ...å…¶ä»–é…ç½®
     logging: true, // ğŸ‘ˆ å¯ç”¨ SQL æ—¥å¿—
   }),
   ```

2. **è®¾ç½®æ–­ç‚¹**ï¼š
   ```typescript
   // apps/api/src/user/user.service.ts
   async create(createUserInput: CreateUserInput): Promise<User> {
     const user = this.userRepository.create(createUserInput);
     // ğŸ‘ˆ æ–­ç‚¹: æŸ¥çœ‹åˆ›å»ºçš„å®ä½“
     
     return this.userRepository.save(user);
     // ğŸ‘ˆ æ–­ç‚¹: æŸ¥çœ‹ä¿å­˜ç»“æœ
   }
   ```

3. **æŸ¥çœ‹ SQL**ï¼š
   - åœ¨ç»ˆç«¯ä¸­æŸ¥çœ‹ç”Ÿæˆçš„ SQL è¯­å¥
   - åœ¨æ–­ç‚¹å¤„æŸ¥çœ‹ `user` å¯¹è±¡

### åœºæ™¯ 4: è°ƒè¯•å‰ç«¯ SSR

**ç›®æ ‡**ï¼šç†è§£ Next.js æœåŠ¡å™¨ç«¯æ¸²æŸ“è¿‡ç¨‹

1. **è®¾ç½®æ–­ç‚¹**ï¼š
   ```typescript
   // apps/web/src/app/page.tsx
   export default async function Home() {
     // ğŸ‘ˆ æ–­ç‚¹: æœåŠ¡å™¨ç«¯æ¸²æŸ“
     const data = await fetchSomeData();
     return <div>{data}</div>;
   }
   ```

2. **å¯åŠ¨è°ƒè¯•**ï¼š
   - é€‰æ‹© `ğŸŸ¢ è°ƒè¯•å‰ç«¯ (Next.js Node)`
   - æŒ‰ `F5`

3. **è®¿é—®é¡µé¢**ï¼š
   - æµè§ˆå™¨è®¿é—® http://localhost:3000
   - è°ƒè¯•å™¨ä¼šåœ¨æœåŠ¡å™¨ç«¯æ–­ç‚¹å¤„æš‚åœ

4. **åŒºåˆ†ç¯å¢ƒ**ï¼š
   ```typescript
   // åˆ¤æ–­æ˜¯æœåŠ¡å™¨ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯
   if (typeof window === 'undefined') {
     console.log('æœåŠ¡å™¨ç«¯æ‰§è¡Œ');
   } else {
     console.log('å®¢æˆ·ç«¯æ‰§è¡Œ');
   }
   ```

### åœºæ™¯ 5: è°ƒè¯• Apollo Client

**ç›®æ ‡**ï¼šæŸ¥çœ‹ GraphQL è¯·æ±‚å’Œå“åº”

1. **è®¾ç½®æ–­ç‚¹**ï¼š
   ```typescript
   // apps/web/src/lib/apollo-client.ts
   const authLink = setContext((_, { headers }) => {
     const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;
     // ğŸ‘ˆ æ–­ç‚¹: æŸ¥çœ‹ Token
     
     return {
       headers: {
         ...headers,
         authorization: token ? `Bearer ${token}` : '',
       },
     };
   });
   ```

2. **ä½¿ç”¨ Apollo DevTools**ï¼š
   - åœ¨ Chrome ä¸­å®‰è£… Apollo Client DevTools æ‰©å±•
   - æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© "Apollo" æ ‡ç­¾
   - æŸ¥çœ‹æ‰€æœ‰ GraphQL è¯·æ±‚å’Œç¼“å­˜çŠ¶æ€

---

## æœ€ä½³å®è·µ

### 1. æ–­ç‚¹è®¾ç½®æŠ€å·§

#### âœ… å¥½çš„æ–­ç‚¹ä½ç½®

- **åç«¯**ï¼š
  - GraphQL Resolver æ–¹æ³•å…¥å£
  - Service å±‚çš„ä¸šåŠ¡é€»è¾‘å¼€å§‹å¤„
  - æ•°æ®åº“æ“ä½œå‰å
  - é”™è¯¯å¤„ç†çš„ catch å—

- **å‰ç«¯**ï¼š
  - äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆonClick, onSubmitï¼‰
  - GraphQL mutation/query è°ƒç”¨å‰å
  - useEffect é’©å­å†…éƒ¨
  - çŠ¶æ€æ›´æ–°å

#### âŒ é¿å…çš„æ–­ç‚¹ä½ç½®

- é¢‘ç¹è°ƒç”¨çš„å·¥å…·å‡½æ•°ï¼ˆå¦‚æ—¥å¿—å‡½æ•°ï¼‰
- å¾ªç¯å†…éƒ¨ï¼ˆé™¤éè°ƒè¯•å¾ªç¯é€»è¾‘ï¼‰
- ç¬¬ä¸‰æ–¹åº“ä»£ç ï¼ˆé™¤éå¿…è¦ï¼‰

### 2. ä½¿ç”¨æ¡ä»¶æ–­ç‚¹

**åœºæ™¯**ï¼šåªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æš‚åœ

```typescript
// å³é”®ç‚¹å‡»æ–­ç‚¹ â†’ "ç¼–è¾‘æ–­ç‚¹" â†’ è¾“å…¥æ¡ä»¶
// ä¾‹å¦‚ï¼šåªåœ¨ email åŒ…å« "test" æ—¶æš‚åœ
registerInput.email.includes('test')
```

### 3. æ—¥å¿—ç‚¹ (Logpoints)

**åœºæ™¯**ï¼šè¾“å‡ºæ—¥å¿—è€Œä¸æš‚åœç¨‹åº

```typescript
// å³é”®ç‚¹å‡»è¡Œå· â†’ "æ·»åŠ æ—¥å¿—ç‚¹"
// è¾“å…¥ï¼šUser registered: {registerInput.email}
```

### 4. ä½¿ç”¨è°ƒè¯•æ§åˆ¶å°

åœ¨æ–­ç‚¹æš‚åœæ—¶ï¼Œå¯ä»¥åœ¨è°ƒè¯•æ§åˆ¶å°ä¸­ï¼š

```javascript
// æŸ¥çœ‹å˜é‡
registerInput

// æ‰§è¡Œä»£ç 
console.log('Current user:', user)

// ä¿®æ”¹å˜é‡ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
registerInput.email = 'test@example.com'
```

### 5. ç›‘è§†è¡¨è¾¾å¼

åœ¨"ç›‘è§†"é¢æ¿ä¸­æ·»åŠ è¡¨è¾¾å¼ï¼š

```
registerInput.email
user?.id
process.env.DATABASE_HOST
```

### 6. çƒ­é‡è½½æœ€ä½³å®è·µ

- **åç«¯**ï¼šä½¿ç”¨ `nest start --watch` è‡ªåŠ¨é‡å¯
- **å‰ç«¯**ï¼šNext.js è‡ªåŠ¨æ”¯æŒçƒ­é‡è½½
- **æ³¨æ„**ï¼šæŸäº›é…ç½®æ–‡ä»¶æ›´æ”¹éœ€è¦æ‰‹åŠ¨é‡å¯

### 7. æ€§èƒ½è°ƒè¯•

ä½¿ç”¨ Chrome DevTools çš„ Performance é¢æ¿ï¼š

1. æ‰“å¼€ Chrome DevTools (F12)
2. åˆ‡æ¢åˆ° "Performance" æ ‡ç­¾
3. ç‚¹å‡»å½•åˆ¶æŒ‰é’®
4. æ‰§è¡Œéœ€è¦åˆ†æçš„æ“ä½œ
5. åœæ­¢å½•åˆ¶ï¼Œåˆ†æç»“æœ

---

## å¸¸è§é—®é¢˜

### Q1: è°ƒè¯•å™¨æ— æ³•è¿æ¥ï¼Ÿ

**ç—‡çŠ¶**ï¼šç‚¹å‡» F5 åæ˜¾ç¤º "Cannot connect to runtime process"

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨**ï¼š
   ```bash
   # macOS/Linux
   lsof -i :4000
   lsof -i :3000
   lsof -i :9229
   
   # æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
   kill -9 <PID>
   ```

2. **ç¡®ä¿æ•°æ®åº“å·²å¯åŠ¨**ï¼š
   ```bash
   docker ps | grep postgres
   ```

3. **æ¸…ç†å¹¶é‡æ–°æ„å»º**ï¼š
   ```bash
   pnpm --filter api build
   ```

### Q2: æ–­ç‚¹æ˜¾ç¤ºç°è‰²ï¼Œæ— æ³•æš‚åœï¼Ÿ

**åŸå› **ï¼šæºç æ˜ å°„ (Source Maps) æœªæ­£ç¡®é…ç½®

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ tsconfig.json**ï¼š
   ```json
   {
     "compilerOptions": {
       "sourceMap": true,  // ğŸ‘ˆ å¿…é¡»ä¸º true
       "inlineSourceMap": false
     }
   }
   ```

2. **é‡æ–°æ„å»ºé¡¹ç›®**ï¼š
   ```bash
   pnpm --filter api build
   ```

3. **æ£€æŸ¥ outFiles é…ç½®**ï¼š
   ç¡®ä¿ `.vscode/launch.json` ä¸­çš„ `outFiles` è·¯å¾„æ­£ç¡®

### Q3: å‰ç«¯è°ƒè¯•æ—¶ï¼Œä»£ç å’Œæ–­ç‚¹ä½ç½®ä¸åŒ¹é…ï¼Ÿ

**åŸå› **ï¼šWebpack æºç æ˜ å°„è·¯å¾„é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š

åœ¨ `.vscode/launch.json` ä¸­æ·»åŠ  `sourceMapPathOverrides`ï¼š

```json
{
  "type": "chrome",
  "sourceMapPathOverrides": {
    "webpack://_N_E/*": "${webRoot}/*",
    "webpack:///./*": "${webRoot}/*"
  }
}
```

### Q4: ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆï¼Ÿ

**ç—‡çŠ¶**ï¼šåç«¯æ— æ³•è¿æ¥æ•°æ®åº“ï¼Œæ˜¾ç¤ºè¿æ¥é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ .vscode/launch.json ä¸­çš„ env é…ç½®**
2. **ç¡®ä¿ç¯å¢ƒå˜é‡å€¼æ­£ç¡®**ï¼š
   ```json
   "env": {
     "DATABASE_HOST": "localhost",  // ğŸ‘ˆ ä¸æ˜¯ "postgres"ï¼ˆå®¹å™¨åï¼‰
     "DATABASE_PASSWORD": "postgres"
   }
   ```

### Q5: è°ƒè¯•æ—¶ä¿®æ”¹ä»£ç ä¸ç”Ÿæ•ˆï¼Ÿ

**åŸå› **ï¼šéœ€è¦é‡æ–°æ„å»º

**è§£å†³æ–¹æ¡ˆ**ï¼š

- **åç«¯**ï¼šä½¿ç”¨ `nest start --watch` è‡ªåŠ¨é‡å¯
- **å‰ç«¯**ï¼šNext.js è‡ªåŠ¨çƒ­é‡è½½
- **æ‰‹åŠ¨é‡å¯**ï¼šåœæ­¢è°ƒè¯•å™¨ï¼Œé‡æ–°æŒ‰ F5

### Q6: Chrome æ— æ³•è‡ªåŠ¨æ‰“å¼€ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ‰‹åŠ¨æ‰“å¼€ Chrome**ï¼š
   ```bash
   # macOS
   /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222
   
   # Windows
   chrome.exe --remote-debugging-port=9222
   ```

2. **ä½¿ç”¨é™„åŠ é…ç½®**ï¼š
   é€‰æ‹© `ğŸ”µ é™„åŠ åˆ° Chrome (ç«¯å£ 9222)`

### Q7: å¦‚ä½•è°ƒè¯•ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ï¼Ÿ

**ä¸æ¨èç›´æ¥è°ƒè¯•ç”Ÿäº§ç¯å¢ƒ**ï¼Œä½†å¯ä»¥ï¼š

1. **ä½¿ç”¨æ—¥å¿—**ï¼š
   ```typescript
   console.log('Debug info:', data);
   ```

2. **å¯ç”¨ç”Ÿäº§è°ƒè¯•æ¨¡å¼**ï¼ˆè°¨æ…ï¼‰ï¼š
   ```bash
   pnpm --filter api debug:prod
   ```

3. **æœ¬åœ°å¤ç°ç”Ÿäº§é—®é¢˜**ï¼š
   ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒçš„æ•°æ®å‰¯æœ¬

### Q8: å¦‚ä½•æŸ¥çœ‹æ•°æ®åº“æŸ¥è¯¢ï¼Ÿ

**æ–¹æ¡ˆ 1ï¼šå¯ç”¨ TypeORM æ—¥å¿—**

```typescript
// apps/api/src/app.module.ts
TypeOrmModule.forRoot({
  logging: true,
  logger: 'advanced-console',
}),
```

**æ–¹æ¡ˆ 2ï¼šä½¿ç”¨æ•°æ®åº“å®¢æˆ·ç«¯**

```bash
# è¿æ¥åˆ°æ•°æ®åº“
docker exec -it learning-nest-next-db-dev psql -U postgres -d learning_nest_next

# æŸ¥çœ‹æ‰€æœ‰è¡¨
\dt

# æŸ¥è¯¢æ•°æ®
SELECT * FROM users;
```

**æ–¹æ¡ˆ 3ï¼šä½¿ç”¨ pgAdmin æˆ– DBeaver**

### Q9: å¤šä¸ªæ–­ç‚¹æ—¶å¦‚ä½•å¿«é€Ÿå¯¼èˆªï¼Ÿ

**å¿«æ·é”®**ï¼š

- `F5`: ç»§ç»­æ‰§è¡Œ
- `F10`: å•æ­¥è·³è¿‡ï¼ˆStep Overï¼‰
- `F11`: å•æ­¥è¿›å…¥ï¼ˆStep Intoï¼‰
- `Shift+F11`: å•æ­¥è·³å‡ºï¼ˆStep Outï¼‰
- `Shift+F5`: åœæ­¢è°ƒè¯•
- `Ctrl+Shift+F5`: é‡å¯è°ƒè¯•

**æŠ€å·§**ï¼š

- ä½¿ç”¨"ç»§ç»­åˆ°æ­¤å¤„"ï¼šå³é”®ç‚¹å‡»ä»£ç è¡Œ â†’ "Run to Cursor"
- ç¦ç”¨æ‰€æœ‰æ–­ç‚¹ï¼šè°ƒè¯•å·¥å…·æ  â†’ æ–­ç‚¹å›¾æ ‡ â†’ å–æ¶ˆå‹¾é€‰

### Q10: å¦‚ä½•è°ƒè¯•å¼‚æ­¥ä»£ç ï¼Ÿ

**æŠ€å·§**ï¼š

1. **ä½¿ç”¨ async/await è€Œä¸æ˜¯ .then()**ï¼š
   ```typescript
   // âœ… å¥½
   const result = await someAsyncFunction();
   // å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
   
   // âŒ éš¾ä»¥è°ƒè¯•
   someAsyncFunction().then(result => {
     // æ–­ç‚¹å¯èƒ½ä¸å‡†ç¡®
   });
   ```

2. **åœ¨ catch å—è®¾ç½®æ–­ç‚¹**ï¼š
   ```typescript
   try {
     await someAsyncFunction();
   } catch (error) {
     // ğŸ‘ˆ æ–­ç‚¹: æ•è·å¼‚æ­¥é”™è¯¯
     console.error(error);
   }
   ```

---

## è°ƒè¯•å·¥å…·å¿«æ·é”®

### VS Code è°ƒè¯•å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ | è¯´æ˜ |
|-------|------|------|
| `F5` | å¼€å§‹è°ƒè¯•/ç»§ç»­ | å¯åŠ¨è°ƒè¯•æˆ–ä»æ–­ç‚¹ç»§ç»­æ‰§è¡Œ |
| `Shift+F5` | åœæ­¢è°ƒè¯• | ç»ˆæ­¢å½“å‰è°ƒè¯•ä¼šè¯ |
| `Ctrl+Shift+F5` | é‡å¯è°ƒè¯• | åœæ­¢å¹¶é‡æ–°å¯åŠ¨ |
| `F9` | åˆ‡æ¢æ–­ç‚¹ | åœ¨å½“å‰è¡Œæ·»åŠ /ç§»é™¤æ–­ç‚¹ |
| `F10` | å•æ­¥è·³è¿‡ | æ‰§è¡Œå½“å‰è¡Œï¼Œä¸è¿›å…¥å‡½æ•° |
| `F11` | å•æ­¥è¿›å…¥ | è¿›å…¥å‡½æ•°å†…éƒ¨ |
| `Shift+F11` | å•æ­¥è·³å‡º | è·³å‡ºå½“å‰å‡½æ•° |
| `Ctrl+K Ctrl+I` | æŸ¥çœ‹å˜é‡ | æ‚¬åœæŸ¥çœ‹å˜é‡å€¼ |

### Chrome DevTools å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|-------|------|
| `F12` | æ‰“å¼€å¼€å‘è€…å·¥å…· |
| `Ctrl+Shift+C` | é€‰æ‹©å…ƒç´  |
| `Ctrl+Shift+J` | æ‰“å¼€æ§åˆ¶å° |
| `Ctrl+P` | å¿«é€Ÿæ‰“å¼€æ–‡ä»¶ |
| `Ctrl+Shift+F` | å…¨å±€æœç´¢ |
| `Ctrl+G` | è·³è½¬åˆ°è¡Œ |

---

## è¿›é˜¶è°ƒè¯•æŠ€å·§

### 1. è¿œç¨‹è°ƒè¯•

å¦‚æœéœ€è¦è°ƒè¯•è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä»£ç ï¼š

```bash
# æœåŠ¡å™¨ä¸Šå¯åŠ¨åº”ç”¨ï¼ˆæš´éœ²è°ƒè¯•ç«¯å£ï¼‰
node --inspect=0.0.0.0:9229 dist/main.js

# æœ¬åœ° VS Code é…ç½®
{
  "type": "node",
  "request": "attach",
  "address": "æœåŠ¡å™¨IP",
  "port": 9229
}
```

### 2. è°ƒè¯• Docker å®¹å™¨

å¦‚æœåœ¨ Docker ä¸­è¿è¡Œï¼š

```yaml
# docker-compose.dev.yml
services:
  api:
    command: node --inspect=0.0.0.0:9229 dist/main.js
    ports:
      - "9229:9229"  # æš´éœ²è°ƒè¯•ç«¯å£
```

### 3. æ€§èƒ½åˆ†æ

```typescript
// ä½¿ç”¨ console.time æµ‹é‡æ€§èƒ½
console.time('database-query');
const users = await this.userRepository.find();
console.timeEnd('database-query');
```

### 4. å†…å­˜æ³„æ¼è°ƒè¯•

ä½¿ç”¨ Chrome DevTools çš„ Memory é¢æ¿ï¼š

1. æ‰“å¼€ DevTools â†’ Memory
2. æ‹æ‘„å †å¿«ç…§ï¼ˆHeap Snapshotï¼‰
3. æ‰§è¡Œæ“ä½œ
4. å†æ¬¡æ‹æ‘„å¿«ç…§
5. å¯¹æ¯”ä¸¤æ¬¡å¿«ç…§ï¼ŒæŸ¥æ‰¾æ³„æ¼

---

## æ€»ç»“

### è°ƒè¯•æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å¼€å§‹è°ƒè¯•                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. å¯åŠ¨ PostgreSQL                          â”‚
â”‚     docker-compose up -d postgres           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. åœ¨ VS Code ä¸­é€‰æ‹©è°ƒè¯•é…ç½®                â”‚
â”‚     â€¢ å®Œæ•´å…¨æ ˆè°ƒè¯•ï¼ˆæ¨èï¼‰                   â”‚
â”‚     â€¢ åªè°ƒè¯•åç«¯                             â”‚
â”‚     â€¢ åªè°ƒè¯•å‰ç«¯                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. è®¾ç½®æ–­ç‚¹                                 â”‚
â”‚     â€¢ ç‚¹å‡»è¡Œå·å·¦ä¾§                           â”‚
â”‚     â€¢ å³é”® â†’ æ¡ä»¶æ–­ç‚¹/æ—¥å¿—ç‚¹                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æŒ‰ F5 å¯åŠ¨è°ƒè¯•                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. è§¦å‘æ–­ç‚¹                                 â”‚
â”‚     â€¢ åœ¨æµè§ˆå™¨ä¸­æ“ä½œ                         â”‚
â”‚     â€¢ å‘é€ API è¯·æ±‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. åˆ†æå’Œè°ƒè¯•                               â”‚
â”‚     â€¢ æŸ¥çœ‹å˜é‡                               â”‚
â”‚     â€¢ æŸ¥çœ‹è°ƒç”¨æ ˆ                             â”‚
â”‚     â€¢ å•æ­¥æ‰§è¡Œ                               â”‚
â”‚     â€¢ ä¿®æ”¹å˜é‡ï¼ˆæµ‹è¯•ï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. ç»§ç»­æ‰§è¡Œæˆ–åœæ­¢                           â”‚
â”‚     â€¢ F5: ç»§ç»­                               â”‚
â”‚     â€¢ Shift+F5: åœæ­¢                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨èçš„è°ƒè¯•å·¥ä½œæµ

1. **å¼€å‘æ–°åŠŸèƒ½**ï¼š
   - ä½¿ç”¨ `ğŸ¯ å®Œæ•´å…¨æ ˆè°ƒè¯•`
   - åœ¨å…³é”®ä½ç½®è®¾ç½®æ–­ç‚¹
   - é€æ­¥æ‰§è¡Œï¼Œç†è§£æµç¨‹

2. **ä¿®å¤ Bug**ï¼š
   - å¤ç°é—®é¢˜
   - åœ¨å¯èƒ½å‡ºé”™çš„åœ°æ–¹è®¾ç½®æ–­ç‚¹
   - æŸ¥çœ‹å˜é‡å€¼ï¼Œæ‰¾å‡ºé—®é¢˜

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨ console.time æµ‹é‡
   - ä½¿ç”¨ Chrome Performance é¢æ¿
   - åˆ†ææ…¢æŸ¥è¯¢

4. **å­¦ä¹ ä»£ç **ï¼š
   - åœ¨å…¥å£ç‚¹è®¾ç½®æ–­ç‚¹
   - å•æ­¥è¿›å…¥ï¼ŒæŸ¥çœ‹è°ƒç”¨æµç¨‹
   - ç†è§£æ¶æ„å’Œè®¾è®¡æ¨¡å¼

---

## ç›¸å…³èµ„æº

- [VS Code è°ƒè¯•æ–‡æ¡£](https://code.visualstudio.com/docs/editor/debugging)
- [NestJS è°ƒè¯•æŒ‡å—](https://docs.nestjs.com/recipes/debugging)
- [Next.js è°ƒè¯•æ–‡æ¡£](https://nextjs.org/docs/app/building-your-application/configuring/debugging)
- [Chrome DevTools æ–‡æ¡£](https://developer.chrome.com/docs/devtools/)
- [Node.js è°ƒè¯•æŒ‡å—](https://nodejs.org/en/docs/guides/debugging-getting-started/)

---

**ç¥ä½ è°ƒè¯•æ„‰å¿«ï¼ğŸ‰**

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒæœ¬æŒ‡å—çš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†ï¼Œæˆ–æŸ¥çœ‹é¡¹ç›®çš„ `docs/` ç›®å½•ä¸­çš„å…¶ä»–æ–‡æ¡£ã€‚
