# Canary 项目部署文档索引

## 📁 文档目录

本目录包含 Canary 项目完整的部署文档和运维指南。

## 🚀 快速开始

如果您想快速了解部署信息，请阅读：
1. [README.md](./README.md) - 快速参考文档
2. [部署完成总结.md](./部署完成总结.md) - 部署结果总结

## 📝 详细部署步骤

按顺序阅读以下文档，了解完整的部署过程：

### 第一阶段：准备工作
1. [步骤0_清理准备工作.md](./步骤0_清理准备工作.md)
   - 删除旧部署文件
   - 重置项目状态

2. [步骤1_服务器基础环境检查.md](./步骤1_服务器基础环境检查.md)
   - SSH 连接验证
   - 系统资源检查
   - 网络配置确认

### 第二阶段：环境搭建
3. [步骤2_安装Docker环境.md](./步骤2_安装Docker环境.md)
   - Docker 安装
   - Docker Compose 配置
   - 验证安装

4. [步骤3_准备生产环境配置文件.md](./步骤3_准备生产环境配置文件.md)
   - 创建 .env.production
   - 配置数据库连接
   - 配置 JWT 和支付密钥

### 第三阶段：代码部署
5. [步骤4_打包并上传代码到服务器.md](./步骤4_打包并上传代码到服务器.md)
   - 本地代码打包
   - 上传到服务器
   - 验证文件完整性

6. [步骤5_构建Docker镜像.md](./步骤5_构建Docker镜像.md)
   - 配置镜像源
   - 构建 API 镜像
   - 构建 Web 镜像
   - 处理构建问题

### 第四阶段：服务启动
7. [步骤6_启动所有服务容器.md](./步骤6_启动所有服务容器.md)
   - 启动 PostgreSQL
   - 启动 NestJS API
   - 启动 Next.js Web
   - 启动 Nginx 代理

8. [步骤8_验证部署和创建运维脚本.md](./步骤8_验证部署和创建运维脚本.md)
   - 验证服务状态
   - 测试功能
   - 创建运维脚本
   - 最终确认

## 🛠️ 运维文档

- [运维管理脚本说明.md](./运维管理脚本说明.md)
  - 服务管理脚本
  - 数据库管理脚本
  - 监控和备份脚本
  - 故障排查脚本

## 📊 部署结果

- [部署完成总结.md](./部署完成总结.md)
  - 部署信息汇总
  - 服务运行状态
  - 技术栈详情
  - 后续优化建议
  - 故障排查经验

## 🔍 文档用途

| 文档类型 | 适用场景 | 推荐阅读 |
|---------|---------|---------|
| 快速参考 | 日常运维、快速查询 | README.md |
| 部署步骤 | 首次部署、重新部署 | 步骤0-8 |
| 运维指南 | 日常维护、问题处理 | 运维管理脚本说明.md |
| 部署总结 | 了解整体情况、规划优化 | 部署完成总结.md |

## 📈 文档维护

### 文档更新记录

| 日期 | 更新内容 | 作者 |
|------|---------|------|
| 2025-11-16 | 初始版本，完成部署文档 | AI Assistant |

### 待完善内容

- [ ] HTTPS 配置指南
- [ ] 域名配置文档
- [ ] 监控系统部署
- [ ] 自动化测试指南
- [ ] 性能优化建议
- [ ] 安全加固指南

## 🎯 使用指南

### 新手指南
如果您是第一次接触本项目的部署，建议按以下顺序阅读：

1. 先阅读 [README.md](./README.md) 了解基本信息
2. 然后阅读 [部署完成总结.md](./部署完成总结.md) 了解整体情况
3. 如需详细了解部署过程，按顺序阅读步骤0-8
4. 日常运维参考 [运维管理脚本说明.md](./运维管理脚本说明.md)

### 运维人员指南
如果您负责项目的日常运维，建议：

1. 收藏 [README.md](./README.md) 用于快速查询
2. 熟悉 [运维管理脚本说明.md](./运维管理脚本说明.md) 中的所有脚本
3. 定期查看 [部署完成总结.md](./部署完成总结.md) 中的故障排查经验

### 开发人员指南
如果您是开发人员需要了解部署流程，建议：

1. 重点阅读步骤5（构建镜像）和步骤6（启动服务）
2. 了解 [步骤3_准备生产环境配置文件.md](./步骤3_准备生产环境配置文件.md) 中的配置项
3. 参考 [部署完成总结.md](./部署完成总结.md) 中的技术栈和架构信息

## 💡 小贴士

1. **书签收藏**: 建议将 README.md 添加到浏览器书签
2. **定期备份**: 记得定期执行数据库备份
3. **日志监控**: 养成定期检查日志的习惯
4. **文档更新**: 遇到新问题并解决后，请更新相关文档

## 📞 支持和反馈

如果您在使用过程中遇到问题或有改进建议：

1. 首先查阅相关文档的"故障排查"部分
2. 检查 [部署完成总结.md](./部署完成总结.md) 中的"故障排查经验"
3. 查看服务器日志获取详细错误信息

## 🔗 相关链接

- **项目仓库**: (添加您的仓库链接)
- **在线演示**: http://8.159.144.140
- **API 文档**: http://8.159.144.140/graphql

---

**文档版本**: 1.0.0  
**最后更新**: 2025-11-16  
**维护者**: Canary Team
