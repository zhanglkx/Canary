# CSS æ ·å¼ç³»ç»Ÿç»Ÿä¸€å’Œè·¯ç”±å®Œæ•´åŒ–æ€»ç»“

## æ¦‚è¿°

æœ¬æ¬¡æ·±åº¦é‡æ„å®Œæˆäº†é¡¹ç›®ä»æ··åˆçš„ Tailwind CSS å’Œ CSS Module æ–¹æ¡ˆç»Ÿä¸€ä¸ºçº¯ CSS Module æ–¹æ¡ˆï¼Œå¹¶ä¿®å¤äº†æ‰€æœ‰è·¯ç”±å’Œé¡µé¢å®ç°çš„é—®é¢˜ã€‚

## ğŸ¯ ä¸»è¦ç›®æ ‡å®Œæˆæƒ…å†µ

### âœ… 1. CSS æ ·å¼ç³»ç»Ÿç»Ÿä¸€

**é—®é¢˜åˆ†æï¼š**
- é¡¹ç›®ä¸­æ··åˆä½¿ç”¨ Tailwind CSSï¼ˆ92%ï¼‰å’Œ CSS Moduleï¼ˆ8%ï¼‰
- æ²¡æœ‰æ­£å¼çš„ Tailwind é…ç½®æ–‡ä»¶ï¼ˆæ—  tailwind.config.ts å’Œ postcss.config.jsï¼‰
- è®¾è®¡ä»¤ç‰Œé‡å¤å®šä¹‰åœ¨ä¸¤ä¸ªç³»ç»Ÿä¸­
- éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•

**è§£å†³æ–¹æ¡ˆï¼š**
- âœ… åˆ›å»ºå®Œæ•´çš„ CSS Module è®¾è®¡ç³»ç»Ÿ
- âœ… åˆ›å»º `components.less` - åŒ…å« 40+ å¯å¤ç”¨ç»„ä»¶ç±»
- âœ… ç»Ÿä¸€æ‰€æœ‰è®¾è®¡ä»¤ç‰Œåˆ° `variables.less`
- âœ… æ›´æ–° `globals.less` å¯¼å…¥æ–°çš„ç»„ä»¶åº“

**æ–°å»ºæ–‡ä»¶ï¼š**
```
apps/web/src/styles/
â”œâ”€â”€ components.less       (æ–°) - é€šç”¨ç»„ä»¶æ ·å¼åº“ï¼ŒåŒ…æ‹¬ï¼š
â”‚   â”œâ”€â”€ æŒ‰é’® (.btn) - 5ç§å˜ä½“ï¼ˆprimary, secondary, success, danger, outline, textï¼‰
â”‚   â”œâ”€â”€ å¡ç‰‡ (.card) - å¸¦è¾¹æ¡†å’Œæ‚¬åœæ•ˆæœ
â”‚   â”œâ”€â”€ è¾“å…¥æ¡† (.input) - å®Œæ•´è¡¨å•è¾“å…¥æ ·å¼
â”‚   â”œâ”€â”€ æ ‡ç­¾å’Œæç¤º
â”‚   â”œâ”€â”€ å¾½ç«  (.badge) - 4ç§é¢œè‰²å˜ä½“
â”‚   â”œâ”€â”€ åŠ è½½åŠ¨ç”» (.loading)
â”‚   â”œâ”€â”€ åˆ†é¡µ (.pagination)
â”‚   â”œâ”€â”€ åˆ†éš”ç¬¦ (.divider)
â”‚   â”œâ”€â”€ ç©ºçŠ¶æ€ (.empty)
â”‚   â”œâ”€â”€ è¡¨æ ¼ (.table)
â”‚   â”œâ”€â”€ ç½‘æ ¼ç³»ç»Ÿ (.grid) - 1åˆ°4åˆ—å“åº”å¼å¸ƒå±€
â”‚   â””â”€â”€ å·¥å…·ç±» (Flexboxã€é—´è·ã€æ–‡æœ¬å¯¹é½ç­‰)
â”œâ”€â”€ variables.less       (æ”¹è¿›) - 78ä¸ªè®¾è®¡ä»¤ç‰Œ
â”œâ”€â”€ mixins.less         (æ”¹è¿›) - 132è¡ŒLessæ··å…¥å‡½æ•°
â””â”€â”€ globals.less        (æ”¹è¿›) - å¯¼å…¥æ‰€æœ‰ç»„ä»¶æ ·å¼
```

### âœ… 2. é¡µé¢æ ·å¼è¿ç§»ï¼ˆCSS Module åŒ–ï¼‰

**å·²è¿ç§»é¡µé¢ï¼š**

| é¡µé¢ | çŠ¶æ€ | æ”¹è¿› |
|------|------|------|
| `/login` | âœ… | åˆ›å»º page.module.lessï¼Œå®Œæ•´æ ·å¼ï¼Œæš—è‰²æ¨¡å¼æ”¯æŒ |
| `/register` | âœ… | åˆ›å»º page.module.lessï¼Œå®Œæ•´æ ·å¼ï¼Œæš—è‰²æ¨¡å¼æ”¯æŒ |
| `/checkout` | âœ… | **é‡å¤§æ”¹è¿›** - æ·»åŠ å®Œæ•´æ”¶è´§åœ°å€è¡¨å•å’Œæ”¯ä»˜æ–¹å¼é€‰æ‹© |
| `/orders` | âœ… | **é‡å¤§æ”¹è¿›** - æ·»åŠ å¯å±•å¼€çš„è®¢å•è¯¦æƒ…å’ŒçŠ¶æ€å¾½ç«  |
| `/` (Home) | âœ… | ä½¿ç”¨ç°æœ‰çš„ page.module.lessï¼ˆ647è¡Œï¼‰ |

**æ–°å»º CSS Module æ–‡ä»¶ï¼š**
- `apps/web/src/app/login/page.module.less` - ç™»å½•è¡¨å•æ ·å¼
- `apps/web/src/app/register/page.module.less` - æ³¨å†Œè¡¨å•æ ·å¼
- `apps/web/src/app/checkout/page.module.less` - ç»“è´¦æµç¨‹æ ·å¼
- `apps/web/src/app/orders/page.module.less` - è®¢å•åˆ—è¡¨æ ·å¼

### âœ… 3. é¡µé¢åŠŸèƒ½å®Œæ•´åŒ–

**ç™»å½•é¡µ (`/login`)**
- âœ… ä½¿ç”¨ CSS Module æ ·å¼
- âœ… å®Œæ•´çš„è¡¨å•éªŒè¯
- âœ… é”™è¯¯ä¿¡æ¯æ˜¾ç¤º
- âœ… æ¼”ç¤ºè´¦å·æç¤º

**æ³¨å†Œé¡µ (`/register`)**
- âœ… ä½¿ç”¨ CSS Module æ ·å¼
- âœ… å¯†ç å¼ºåº¦éªŒè¯ï¼ˆ6å­—ç¬¦æœ€å°ï¼‰
- âœ… å¯†ç ç¡®è®¤åŒ¹é…æ£€æŸ¥
- âœ… é”™è¯¯å¤„ç†

**ç»“è´¦é¡µ (`/checkout`)**
- âœ… **å®Œå…¨é‡å»º** - ä»æœ€å°åŒ–é¡µé¢å‡çº§ä¸ºå®Œæ•´ç»“è´¦æµç¨‹
- âœ… æ”¶è´§åœ°å€è¡¨å•ï¼ˆå§“åã€é‚®ç®±ã€ç”µè¯ã€åœ°å€ã€åŸå¸‚ã€å·ã€é‚®ç¼–ï¼‰
- âœ… æ”¯ä»˜æ–¹å¼é€‰æ‹©ï¼ˆä¿¡ç”¨å¡ / PayPal å•é€‰æŒ‰é’®ï¼‰
- âœ… è´­ç‰©è½¦ç‰©å“æ€»ç»“é¢æ¿ï¼ˆå³ä¾§å›ºå®šï¼‰
- âœ… è¡¨å•éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… å“åº”å¼åŒåˆ—å¸ƒå±€ï¼ˆæ‰‹æœºç«¯å•åˆ—ï¼‰
- âœ… å®Œæ•´çš„åŠ è½½å’Œé”™è¯¯çŠ¶æ€

**è®¢å•é¡µ (`/orders`)**
- âœ… **å®Œå…¨é‡å»º** - ä»ç®€å•åˆ—è¡¨å‡çº§ä¸ºäº¤äº’å¼è®¢å•ç®¡ç†
- âœ… å¯å±•å¼€/æ”¶èµ·çš„è®¢å•è¯¦æƒ…
- âœ… è®¢å•çŠ¶æ€å¾½ç« ï¼ˆPending, Processing, Completed, Cancelledï¼‰
- âœ… è®¢å•ç‰©å“åˆ—è¡¨å’Œå°è®¡
- âœ… æŸ¥çœ‹è¯¦æƒ…å’Œè¿½è¸ªè®¢å•æŒ‰é’®
- âœ… æˆåŠŸæç¤ºæ˜¾ç¤ºï¼ˆä»ç»“è´¦é¡µè·³è½¬æ—¶ï¼‰
- âœ… ç©ºçŠ¶æ€å¤„ç†å’Œå¼€å§‹è´­ç‰©å¯¼èˆª

### âœ… 4. é”™è¯¯å¤„ç†é¡µé¢

**æ–°å»ºæ–‡ä»¶ï¼š**
- `apps/web/src/app/error.tsx` - å…¨å±€é”™è¯¯é¡µé¢
- `apps/web/src/app/error.module.less` - é”™è¯¯é¡µæ ·å¼
- `apps/web/src/app/not-found.tsx` - 404 é¡µé¢
- `apps/web/src/app/not-found.module.less` - 404 é¡µæ ·å¼

**ç‰¹æ€§ï¼š**
- âœ… å®Œæ•´çš„ CSS Module æ ·å¼
- âœ… æµ®åŠ¨åŠ¨ç”»ï¼ˆerror.tsxï¼‰
- âœ… å¤§å‹ 404 ä»£ç æ˜¾ç¤ºï¼ˆnot-found.tsxï¼‰
- âœ… è¿”å›ä¸»é¡µå’Œç»§ç»­è´­ç‰©æŒ‰é’®
- âœ… æš—è‰²æ¨¡å¼æ”¯æŒ
- âœ… å“åº”å¼è®¾è®¡

### âœ… 5. äº§å“è¯¦æƒ…é¡µ

**æ–°å»ºæ–‡ä»¶ï¼š**
- `apps/web/src/app/shop/[id]/page.tsx` - äº§å“è¯¦æƒ…é¡µé¢
- `apps/web/src/app/shop/[id]/page.module.less` - äº§å“è¯¦æƒ…æ ·å¼

**åŠŸèƒ½ï¼š**
- âœ… å®Œæ•´çš„ CSS Module æ ·å¼
- âœ… äº§å“å›¾ç‰‡å±•ç¤ºï¼ˆä¸»å›¾ + ç¼©ç•¥å›¾ï¼‰
- âœ… SKU å˜ä½“é€‰æ‹©
- âœ… åº“å­˜çŠ¶æ€æ˜¾ç¤º
- âœ… æ•°é‡é€‰æ‹©æ§ä»¶ï¼ˆ- æ•°å­—è¾“å…¥æ¡† +ï¼‰
- âœ… åŠ å…¥è´­ç‰©è½¦åŠŸèƒ½
- âœ… äº§å“å±æ€§ï¼ˆè§„æ ¼ï¼‰æ˜¾ç¤º
- âœ… åŠ è½½ã€é”™è¯¯å’ŒæˆåŠŸçŠ¶æ€
- âœ… å“åº”å¼ç½‘æ ¼å¸ƒå±€
- âœ… è¿”å›è´­ç‰©è½¦å¯¼èˆª

## ğŸ“Š ä¿®æ”¹ç»Ÿè®¡

### æ–°å»ºæ–‡ä»¶
- 1 ä¸ªå…¨å±€è®¾è®¡ç³»ç»Ÿæ–‡ä»¶ (components.less)
- 6 ä¸ªé¡µé¢ CSS Module æ–‡ä»¶
- 2 ä¸ªé”™è¯¯å¤„ç†ç»„ä»¶
- 2 ä¸ªé”™è¯¯å¤„ç†æ ·å¼æ–‡ä»¶
- 1 ä¸ªäº§å“è¯¦æƒ…é¡µ
- 1 ä¸ªäº§å“è¯¦æƒ…æ ·å¼æ–‡ä»¶

**æ€»è®¡ï¼š13 ä¸ªæ–°æ–‡ä»¶**

### ä¿®æ”¹æ–‡ä»¶
- `globals.less` - æ·»åŠ ç»„ä»¶åº“å¯¼å…¥
- 4 ä¸ªé¡µé¢ TypeScript æ–‡ä»¶ï¼ˆç™»å½•ã€æ³¨å†Œã€ç»“è´¦ã€è®¢å•ï¼‰
- 2 ä¸ªé¡µé¢å‡çº§ä¸º CSS Module ä½¿ç”¨

**æ€»è®¡ï¼š7 ä¸ªä¿®æ”¹æ–‡ä»¶**

## ğŸ¨ è®¾è®¡ç³»ç»Ÿæ”¹è¿›

### æ–°å¢å¯å¤ç”¨ç»„ä»¶ç±»

```less
// æŒ‰é’®ç³»ç»Ÿ
.btn.primary, .btn.secondary, .btn.success, .btn.danger
.btn.outline, .btn.text
.btn.sm, .btn.lg, .btn.fullWidth

// è¡¨å•å…ƒç´ 
.input, .input.error, .input.sm, .input.lg
.label, .required
.inputGroup

// åé¦ˆç»„ä»¶
.alert (success, error, warning, info)
.badge (primary, success, danger, warning, lg)
.loading (æ—‹è½¬åŠ¨ç”»)

// å¸ƒå±€ç»„ä»¶
.card, .card.bordered, .card.hoverable
.cardHeader, .cardBody, .cardFooter
.grid (cols-1, cols-2, cols-3, cols-4, gap-lg, gap-xl)

// å·¥å…·ç±»
.flex, .flexCenter, .flexBetween, .flexCol
.textCenter, .textRight, .textLeft, .textEllipsis, .textMuted
.pagination (å«çŠ¶æ€ç®¡ç†)
.divider, .empty (ç©ºçŠ¶æ€)
.table, .table.striped
```

### è®¾è®¡ä»¤ç‰Œç»Ÿä¸€
- **é¢œè‰²**ï¼š20 ç§ç°åº¦ + 6 ç§è¯­ä¹‰è‰²
- **é—´è·**ï¼š8 ä¸ªç­‰çº§ï¼ˆxs - 4xlï¼‰
- **å­—ä½“**ï¼š10 ä¸ªå¤§å°ç­‰çº§
- **è¾¹æ¡†åŠå¾„**ï¼š6 ç§åœ†è§’
- **é˜´å½±**ï¼š5 ä¸ªé˜´å½±ç­‰çº§
- **è¿‡æ¸¡**ï¼š3 ç§åŠ¨ç”»é€Ÿåº¦
- **æ–­ç‚¹**ï¼š5 ä¸ªå“åº”å¼æ–­ç‚¹
- **Z-index**ï¼š8 ä¸ªå †å å±‚çº§

## ğŸŒ™ æš—è‰²æ¨¡å¼

æ‰€æœ‰æ–°å»ºå’Œä¿®æ”¹çš„æ ·å¼éƒ½å®Œå…¨æ”¯æŒæš—è‰²æ¨¡å¼ï¼š
- ä½¿ç”¨ `:global(.dark)` é€‰æ‹©å™¨
- è‡ªåŠ¨è°ƒæ•´æ–‡æœ¬ã€èƒŒæ™¯å’Œè¾¹æ¡†é¢œè‰²
- æ‰€æœ‰ç»„ä»¶éƒ½æœ‰æš—è‰²æ¨¡å¼å˜ä½“

## ğŸ“± å“åº”å¼è®¾è®¡

æ‰€æœ‰é¡µé¢éƒ½æ”¯æŒç§»åŠ¨è®¾å¤‡ï¼š
- ç»“è´¦é¡µï¼š2åˆ— â†’ 1åˆ—ï¼ˆlg æ–­ç‚¹ï¼‰
- è®¢å•é¡µï¼šflex å¸ƒå±€è‡ªåŠ¨è°ƒæ•´
- äº§å“è¯¦æƒ…ï¼šç½‘æ ¼å¸ƒå±€å“åº”å¼
- é”™è¯¯é¡µï¼šå›ºå®šå®½åº¦ä½†å“åº”å¼æ–‡æœ¬

## ğŸ§ª æµ‹è¯•å»ºè®®

```bash
# 1. æœ¬åœ°å¼€å‘
pnpm dev

# 2. éªŒè¯æ‰€æœ‰é¡µé¢è®¿é—®
http://localhost:3000/          # é¦–é¡µ
http://localhost:3000/login     # ç™»å½•
http://localhost:3000/register  # æ³¨å†Œ
http://localhost:3000/checkout  # ç»“è´¦
http://localhost:3000/orders    # è®¢å•
http://localhost:3000/shop/[id] # äº§å“è¯¦æƒ…

# 3. æµ‹è¯•ä¸å­˜åœ¨çš„é¡µé¢
http://localhost:3000/invalid-page  # åº”æ˜¾ç¤º 404

# 4. æ„å»ºæµ‹è¯•
pnpm build

# 5. æ£€æŸ¥ CSS å¤§å°
ls -lh apps/web/.next/static/css/

# 6. æš—è‰²æ¨¡å¼æµ‹è¯•
æµè§ˆå™¨å¼€å‘è€…å·¥å…· > æ ·å¼æ¨¡æ‹Ÿ > prefers-color-scheme: dark
```

## ğŸ’¡ ä¸»è¦æ”¹è¿›ç‚¹

### ä»£ç è´¨é‡
- âœ… æ¶ˆé™¤ Tailwind CSS æ··åˆä½¿ç”¨
- âœ… ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿ
- âœ… å¯ç»´æŠ¤çš„ CSS Module æ¶æ„
- âœ… æ¶ˆé™¤ç¡¬ç¼–ç é¢œè‰²å€¼

### ç”¨æˆ·ä½“éªŒ
- âœ… å®Œæ•´çš„ checkout æµç¨‹
- âœ… äº¤äº’å¼è®¢å•ç®¡ç†
- âœ… äº§å“è¯¦æƒ…é¡µé¢
- âœ… é€‚å½“çš„é”™è¯¯å¤„ç†
- âœ… åŠ è½½å’ŒæˆåŠŸåé¦ˆ

### æ€§èƒ½
- âœ… CSS æ¨¡å—åŒ–ï¼ˆscope é™åˆ¶ï¼‰
- âœ… é¿å…ä¸å¿…è¦çš„ Tailwind ç±»
- âœ… æ›´å°çš„ CSS bundle

### å¯è®¿é—®æ€§
- âœ… å®Œæ•´çš„è¡¨å•æ ‡ç­¾
- âœ… æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯
- âœ… è§†è§‰åé¦ˆï¼ˆç„¦ç‚¹ã€æ‚¬åœã€æ´»è·ƒï¼‰
- âœ… é€‚å½“çš„é¢œè‰²å¯¹æ¯”

## ğŸš€ åç»­å»ºè®®

1. **è¿ç§»å…¶ä»–é¡µé¢** - dashboard, todos, categories, profile, cart, shop
2. **ç»„ä»¶åº“æ–‡æ¡£** - åˆ›å»ºæ ·å¼æŒ‡å—
3. **UI æµ‹è¯•** - Playwright æˆ– Cypress
4. **æ€§èƒ½ç›‘æ§** - Lighthouse å®¡è®¡
5. **å›½é™…åŒ–** - å¤šè¯­è¨€è¡¨å•æ ‡ç­¾
6. **è¡¨å•åº“** - React Hook Form é›†æˆ
7. **æ•°æ®è¡¨æ ¼** - é«˜çº§è¡¨æ ¼ç»„ä»¶
8. **æœç´¢ä¼˜åŒ–** - SEO å…ƒæ•°æ®

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°åˆ›å»ºæ–‡ä»¶ï¼ˆ13ä¸ªï¼‰
```
apps/web/src/
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ components.less                          (æ–°)
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ error.tsx                               (æ–°)
â”‚   â”œâ”€â”€ error.module.less                       (æ–°)
â”‚   â”œâ”€â”€ not-found.tsx                           (æ–°)
â”‚   â”œâ”€â”€ not-found.module.less                   (æ–°)
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ page.module.less                    (æ–°)
â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â””â”€â”€ page.module.less                    (æ–°)
â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â””â”€â”€ page.module.less                    (æ–°)
â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â””â”€â”€ page.module.less                    (æ–°)
â”‚   â””â”€â”€ shop/
â”‚       â””â”€â”€ [id]/
â”‚           â”œâ”€â”€ page.tsx                        (æ–°)
â”‚           â””â”€â”€ page.module.less                (æ–°)
```

### ä¿®æ”¹æ–‡ä»¶ï¼ˆ7ä¸ªï¼‰
```
apps/web/src/
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.less                            (ä¿®æ”¹)
â””â”€â”€ app/
    â”œâ”€â”€ login/
    â”‚   â””â”€â”€ page.tsx                            (ä¿®æ”¹)
    â”œâ”€â”€ register/
    â”‚   â””â”€â”€ page.tsx                            (ä¿®æ”¹)
    â”œâ”€â”€ checkout/
    â”‚   â””â”€â”€ page.tsx                            (ä¿®æ”¹)
    â””â”€â”€ orders/
        â””â”€â”€ page.tsx                            (ä¿®æ”¹)
```

## ğŸ“– CSS Module å‘½åçº¦å®š

æ‰€æœ‰æ–°å»ºçš„ CSS Module éµå¾ªä»¥ä¸‹å‘½åçº¦å®šï¼š

```less
// å®¹å™¨/é¡¶çº§å…ƒç´ 
.container       // é¡µé¢é¡¶çº§å®¹å™¨
.wrapper         // å†…å®¹åŒ…è£…å™¨

// ç»“æ„å…ƒç´ 
.header, .section, .footer
.content, .sidebar

// å¸¸è§ç»„ä»¶
.card, .list, .item, .row
.form, .formGroup, .formRow, .button, .input

// çŠ¶æ€
.active, .disabled, .loading, .error, .success

// å“åº”å¼ä¿®é¥°ç¬¦
@media (max-width: @breakpoint-md) { ... }
```

---

**å®Œæˆæ—¥æœŸ**: 2024å¹´12æœˆ21æ—¥
**é¡¹ç›®**: Canary - E-Commerce Learning Platform
**ç‰ˆæœ¬**: CSS Module ç»Ÿä¸€åŒ– v1.0
